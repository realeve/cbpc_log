var CBPC_LOG=(()=>{var e="",r="_track_ip",n=function(){if(e=window.localStorage.getItem(r),!e){var n=window.location.protocol;if("file:"===n)return;var t=new window.XMLHttpRequest;t.onreadystatechange=function(){switch(t.readyState){case 4:(t.status>=200&&t.status<300||304==t.status)&&(e=JSON.parse(t.responseText).ip||"",e.length>0&&window.localStorage.setItem(r,e))}},t.open("get",ipUrl),t.send(null)}};n();var t=function(){function r(){var e="unknown";return t.indexOf("Windows NT 10.0")>-1?e="Windows 10":t.indexOf("Windows NT 6.3")>-1?e="Windows 8.1":t.indexOf("Windows NT 6.2")>-1?e="Windows 8":t.indexOf("Windows NT 6.1")>-1?e="Windows 7":t.indexOf("Windows NT 6.0")>-1?e="Windows Vista":t.indexOf("Windows NT 5.2")>-1?e="Windows Server 2003":t.indexOf("Windows NT 5.1")>-1?e="Windows XP":t.indexOf("Windows NT 5")>-1?e="Windows 2000":t.indexOf("Windows NT 4")>-1?e="Windows NT 4.0":t.indexOf("Me")>-1?e="Windows Me":t.indexOf("98")>-1?e="Windows 98":t.indexOf("95")>-1?e="Windows 95":t.indexOf("Mac")>-1?e="Mac":t.indexOf("Unix")>-1?e="UNIX":t.indexOf("Linux")>-1?e="Linux":t.indexOf("SunOS")>-1&&(e="SunOS"),e}function n(){if(t.indexOf("Firefox")>-1){var e=t.match(/firefox\/[\d.]+/gi)[0].match(/[\d]+/)[0];return"Firefox "+e}if(t.indexOf("Edge")>-1){e=t.match(/edge\/[\d.]+/gi)[0].match(/[\d]+/)[0];return"Edge "+e}if(t.indexOf("Opera")>-1||t.indexOf("OPR")>-1){if(t.indexOf("Opera")>-1){e=t.match(/opera\/[\d.]+/gi)[0].match(/[\d]+/)[0];return"Opera "+e}if(t.indexOf("OPR")>-1){e=t.match(/opr\/[\d.]+/gi)[0].match(/[\d]+/)[0];return"Opera "+e}}else{if(t.indexOf("Chrome")>-1){e=t.match(/chrome\/[\d.]+/gi)[0].match(/[\d]+/)[0];return"Chrome "+e}if(t.indexOf("Safari")>-1){e=t.match(/safari\/[\d.]+/gi)[0].match(/[\d]+/)[0];return"Safari "+e}if(t.indexOf("MSIE")>-1||t.indexOf("Trident")>-1){if(t.indexOf("MSIE")>-1){e=t.match(/msie [\d.]+/gi)[0].match(/[\d]+/)[0];return"IE "+e}if(t.indexOf("Trident")>-1){var r=t.match(/trident\/[\d.]+/gi)[0].match(/[\d]+/)[0];e=parseInt(r)+4;return"IE "+e}}}}var t=navigator.userAgent||window.navigator.userAgent,o=(new Date).format("yyyy-MM-dd hh:mm:ss");return{rec_time:o,url:window.location.href,browser:n(),os:r(),ip:e}},o=function(){"use strict";function e(e){e||(e={});var n={url:null,additionalParams:null};d=Object.assign(n,e),f=d.additionalParams,window.removeEventListener("error",r),window.addEventListener("error",r)}function r(e){i(e,d)}function n(e){var r=s(e),n={Type:r.type,Error:r.error,StackTrace:r.stackTrace,"File Name":r.filename,Path:r.path,Line:r.line,Column:r.column,Debug:r.path+":"+r.line};return JSON.stringify(n)}function o(e){var r=a(e),n=new Image;n.src=c+"?"+r,n.onload=n.onerror=function(){n.onload=n.onerror=null,n=null}}function i(e,r){if(r.additionalParams&&"object"!=typeof r.additionalParams)throw new Error("Invalid data type, additionalParams should be a valid object");c=r.url||c;var t=n(e);o({title:"jserror",msg:t,category:"js",level:"error"})}function a(e){var r=t(),n=Object.assign(r,e,f);return Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&")}function s(e){var r=e.filename.lastIndexOf("/");return{type:e.type,path:e.filename,filename:e.filename.substring(++r),line:e.lineno,column:e.colno,error:e.message,stackTrace:e.error?e.error.stack.toString().replace(/(\r\n|\n|\r)/gm,""):""}}var d,c="//10.8.1.25:100/1084/aec97f7bed.gif",f={};return Date.prototype.format=function(e){var r={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return e},"function"!=typeof Object.assign&&(Object.assign=function(e){if(null===e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var r=1;r<arguments.length;r++){var n=arguments[r];if(null!==n)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}),{init:e,err:o}}(),i=function(e){function r(e){return"function"==typeof e}function n(e){return void 0===e}function t(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function i(e,r){var o,i;if(n(e.length))for(o in e)t(e,o)&&r.call(null,o,e[o]);else if(i=e.length,i)for(o=0;o<i;o++)r.call(null,o,e[o])}function a(e,r){return r?(i(r,function(r,n){e[r]=n}),e):e}var s=function(e,r){e.addEventListener("unhandledrejection",function(e){if(e){var n=e.reason;r.sendError({title:e.type||"unhandledrejection",msg:n,category:"js",level:"error"})}},!0)},d=function(e,r){e.addEventListener("error",function(e){if(e){var n=e.target||e.srcElement,t=n instanceof HTMLScriptElement||n instanceof HTMLLinkElement||n instanceof HTMLImageElement;if(!t)return;var o=n.src||n.href;r.sendError({title:n.nodeName,msg:"GET "+o+" net::ERR_ABORTED 404 (Not Found)",category:"resource",level:"error"})}},!0)},c=function(e,r){if(!e.fetch)return;let n=e.fetch;e.fetch=function(){return n.apply(this,arguments).catch(e=>{throw r.sendError({title:arguments[0],msg:JSON.stringify({message:e.message,stack:e.stack}),category:"ajax",level:"error"}),e})}},f=function(e,r){var n=e.location.protocol;if("file:"!==n&&(c(e,r),e.XMLHttpRequest)){var t=e.XMLHttpRequest,o=t.prototype.send,i=function(e){if(e&&e.currentTarget&&200!==e.currentTarget.status){e.target.responseURL;r.sendError({title:e.target.responseURL,msg:JSON.stringify({response:e.target.response,responseURL:e.target.responseURL,status:e.target.status,statusText:e.target.statusText}),category:"ajax",level:"error"})}};t.prototype.send=function(){if(this.addEventListener)this.addEventListener("error",i),this.addEventListener("load",i),this.addEventListener("abort",i);else{var e=this.onreadystatechange;this.onreadystatechange=function(r){4===this.readyState&&i(r),e&&e.apply(this,arguments)}}return o.apply(this,arguments)}}},l=function(e,r){if(e.console&&e.console.error){var n=e.console.error;e.console.error=function(){r.sendError({title:"consoleError",msg:JSON.stringify(arguments.join(",")),category:"js",level:"error"}),n&&n.apply(e,arguments)}}},u={isFunction:r,objectMerge:a,handleRejectPromise:s,handleConsoleError:l,handleResourceError:d,handleAjaxError:f},g={jsError:!0,resourceError:!0,ajaxError:!0,consoleError:!1,scriptError:!1,autoReport:!0,filters:[],levels:["info","warning","error"],category:["js","resource","ajax"]},h=u.objectMerge(g,e);o.init(h),h.scriptError||h.filters.push(function(){return/^Script error\.?$/.test(arguments[0])}),h.sendError=function(e,r,n,t,i){try{var a=h.filters.some(e=>u.isFunction(e)&&e.apply(this,arguments));if(a)return;o.err(arguments[0])}catch(e){o.err({title:"betterJs",msg:e,category:"js"})}};var p="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},m=p.addEventListener||p.attachEvent;h.jsError&&u.handleRejectPromise(p,h),h.resourceError&&m&&u.handleResourceError(p,h),h.ajaxError&&u.handleAjaxError(p,h),h.consoleError&&u.handleConsoleError(p,h)};return i(),{log:o.err,getBrowser:t}})();